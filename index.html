<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EatEase â€” Restaurant Discovery & Booking</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#00c2a8; --muted:#98a0ad; --glass: rgba(255,255,255,0.04);
      --radius:14px; --fw-medium:600;
    }
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial; margin:0; background:linear-gradient(180deg,#071021 0%, #071a2d 60%); color:#e6eef6; -webkit-font-smoothing:antialiased}
    header{display:flex;align-items:center;justify-content:space-between;padding:24px 36px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#2dd4bf);display:flex;align-items:center;justify-content:center;font-weight:700;color:#012;box-shadow:0 6px 18px rgba(0,0,0,0.5)}
    h1{font-size:20px;margin:0}
    .controls{display:flex;gap:12px;align-items:center}
    .lang{background:var(--glass);padding:8px 10px;border-radius:12px;cursor:pointer}
    main{display:grid;grid-template-columns:380px 1fr;gap:24px;padding:20px 36px}
    .sidebar{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding:18px;border-radius:var(--radius);min-height:520px}
    .search{display:flex;gap:8px;margin-bottom:12px}
    input.searchbar{flex:1;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    button.primary{background:var(--accent);border:none;color:#012;padding:10px 12px;border-radius:10px;font-weight:700;cursor:pointer}
    .filters{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .chip{background:#071827;padding:8px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.03);font-size:13px;color:var(--muted);cursor:pointer}
    .chip.active{background:var(--accent);color:#012;font-weight:600}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;margin-bottom:12px;display:flex;gap:12px;align-items:center}
    .thumb{width:72px;height:72px;border-radius:10px;overflow:hidden;background:linear-gradient(135deg,#123 40%,#234);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff}
    .thumb img{width:100%;height:100%;object-fit:cover}
    .rname{font-size:16px;margin:0}
    .meta{color:var(--muted);font-size:13px}
    .badge{background:#02121b;padding:6px 8px;border-radius:10px;font-size:13px}
    .wait{font-weight:700;color:var(--accent)}
    .actions{display:flex;gap:8px;margin-left:auto}
    .btn{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;cursor:pointer}
    .map{height:260px;border-radius:12px;background:linear-gradient(180deg,#052233,#022b3a);display:flex;align-items:center;justify-content:center;color:var(--muted);margin-bottom:12px}
    .content{padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:var(--radius);min-height:520px}
    .hero{display:flex;align-items:center;justify-content:space-between}
    .hero .copy{max-width:60%}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);font-weight:600}
    .results{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin-top:16px}
    .restcard{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));padding:12px;border-radius:12px}
    .stars{color:#ffd166;font-weight:700}
    .reviews{font-size:13px;color:var(--muted);margin-top:8px}
    footer{padding:18px 36px;color:var(--muted);font-size:13px}
    /* modal */
    .overlay{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:none;align-items:center;justify-content:center;z-index:1000}
    .modal{background:#071827;padding:18px;border-radius:12px;max-width:520px;width:94%;max-height:90vh;overflow-y:auto}
    .row{display:flex;gap:8px;align-items:center}
    .plan{background:linear-gradient(180deg,#062a29,#072b2b);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;transition:all 0.2s ease}
    .plan.selected{border:2px solid #00c2a8;background:linear-gradient(180deg,#083a38,#073b3a)}
    .feature-tag{display:inline-block;padding:4px 8px;background:rgba(0,194,168,0.1);color:var(--accent);border-radius:6px;font-size:12px;margin-right:6px;margin-top:4px}
    .feature-tag.cancellation{background:rgba(255,100,100,0.1);color:#ff6b6b;border:1px solid rgba(255,100,100,0.3)}
    .review-item{padding:12px;background:rgba(255,255,255,0.02);border-radius:8px;margin-bottom:8px}
    .review-text{font-style:italic;margin:8px 0}
    .review-meta{font-size:12px;color:var(--muted)}
    .premium-feature{display:flex;align-items:center;gap:12px;padding:12px;background:rgba(255,255,255,0.02);border-radius:8px;margin-bottom:8px}
    .premium-icon{width:24px;height:24px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;font-size:12px;color:#012;font-weight:700}
    .countdown-timer{text-align:center;padding:20px;background:rgba(0,194,168,0.1);border-radius:10px;margin:16px 0}
    .countdown-text{font-size:14px;color:var(--muted);margin-bottom:8px}
    .countdown-time{font-size:32px;font-weight:700;color:var(--accent);font-family:monospace}
    .booking-ready{text-align:center;padding:20px}
    .ready-icon{font-size:48px;margin-bottom:16px}
    .pulse{animation:pulse 2s infinite}
    
    /* NEW STYLES */
    .countdown-minimized{position:fixed;bottom:20px;right:20px;width:300px;background:#071827;border-radius:12px;padding:16px;border:2px solid var(--accent);box-shadow:0 8px 32px rgba(0,0,0,0.3);z-index:999}
    .minimized-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .minimized-time{font-size:24px;font-weight:700;color:var(--accent);font-family:monospace;text-align:center}
    .minimized-restaurant{font-size:12px;color:var(--muted);text-align:center;margin-top:8px}
    .cancellation-fee{background:rgba(255,100,100,0.1);padding:8px 12px;border-radius:8px;margin:8px 0;border:1px solid rgba(255,100,100,0.3)}
    .calendar-input{display:flex;gap:8px;margin:12px 0}
    .calendar-input input{flex:1;padding:10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.1);color:inherit}
    .menu-section{margin:16px 0}
    .menu-category{margin-bottom:20px}
    .menu-item{display:flex;justify-content:space-between;align-items:center;padding:12px;background:rgba(255,255,255,0.02);border-radius:8px;margin-bottom:8px;cursor:pointer;transition:all 0.2s}
    .menu-item:hover{background:rgba(255,255,255,0.05)}
    .menu-item.selected{background:rgba(0,194,168,0.1);border:1px solid var(--accent)}
    .menu-item-price{color:var(--accent);font-weight:700}
    .order-summary{background:rgba(255,255,255,0.02);padding:16px;border-radius:8px;margin:16px 0}
    .order-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.05)}
    .order-total{display:flex;justify-content:space-between;font-weight:700;font-size:18px;margin-top:12px;padding-top:12px;border-top:2px solid rgba(255,255,255,0.1)}
    .quantity-controls{display:flex;align-items:center;gap:8px}
    .quantity-btn{width:24px;height:24px;border-radius:50%;background:var(--accent);color:#012;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700}
    .btn-secondary{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);color:inherit;padding:8px 10px;border-radius:10px;cursor:pointer;transition:all 0.2s}
    .btn-secondary:hover{background:rgba(255,255,255,0.08)}
    .btn-disabled{opacity:0.5;cursor:not-allowed}
    
    @keyframes pulse{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}
    @media(max-width:900px){main{grid-template-columns:1fr;padding:12px} .sidebar{order:2} .content{order:1} .hero .copy{max-width:100%} .countdown-minimized{width:calc(100% - 40px)}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">EE</div>
      <div>
        <h1 id="headerTitle">EatEase â€” Restaurant Discovery & Booking</h1>
        <div style="color:var(--muted);font-size:13px" id="headerSubtitle">All-in-one global restaurant discovery â€¢ Real-time queue tracking â€¢ Verified reviews</div>
      </div>
    </div>
    <div class="controls">
      <div class="lang" id="langToggle">EN</div>
      <button class="primary" id="subscribeBtn">Go Premium</button>
    </div>
  </header>

  <main>
    <aside class="sidebar">
      <div class="search">
        <input class="searchbar" id="searchInput" placeholder="Search restaurants or cuisine (e.g. ramen, snails)" />
        <button class="primary" id="searchBtn">Search</button>
      </div>

      <div class="map" id="mapArea">
        <div>ğŸ“ <span id="mapText">Map preview</span></div>
        <div style="font-size:12px;margin-top:8px" id="offlineText">Offline maps available</div>
      </div>

      <div style="display:flex;gap:8px;align-items:center;margin-bottom:10px">
        <div class="pill" id="liveQueueText">Live queue tracking</div>
        <div style="color:var(--muted);font-size:13px" id="updatedText">Updated every 5s</div>
      </div>

      <div id="nearbyList"></div>

      <div style="margin-top:12px;color:var(--muted);font-size:13px" id="filtersText">Quick filters</div>
      <div class="filters">
        <div class="chip active" data-filter="verified" id="filterVerified">Verified Reviews</div>
        <div class="chip" data-filter="skipQueue" id="filterSkipQueue">Skip Queue</div>
        <div class="chip" data-filter="premium" id="filterPremium">Guaranteed Booking</div>
        <div class="chip" data-filter="multilingual" id="filterMultilingual">Multilingual Menu</div>
        <div class="chip" data-filter="offline" id="filterOffline">Offline Maps</div>
        <div class="chip" data-filter="group" id="filterGroup">Group Booking</div>
      </div>
    </aside>

    <section class="content">
      <div class="hero">
        <div class="copy">
          <div class="pill" id="trustedText">Trusted by International Travelers</div>
          <h2 style="margin:8px 0 4px" id="heroTitle">Find & Book Restaurants Globally</h2>
          <div style="color:var(--muted)" id="heroSubtitle">Real-time queue tracking â€¢ Verified multilingual reviews â€¢ Guaranteed reservations â€¢ Offline maps</div>
        </div>
        <div style="text-align:right">
          <div style="font-size:12px;color:var(--muted)" id="userTypeText">Simulated user</div>
          <div style="font-weight:700;font-size:18px" id="userDetails">Traveler â€” 2 trips / year</div>
        </div>
      </div>

      <div style="margin-top:16px">
        <div style="display:flex;gap:8px;align-items:center">
          <input id="filterInput" placeholder="Filter by feature (e.g. skip queue)" style="flex:1;padding:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit" />
          <button class="btn" id="clearFilter">Clear</button>
        </div>

        <div class="results" id="resultsGrid"></div>
      </div>

      <div style="margin-top:14px">
        <h3 style="margin:0 0 8px" id="detailsTitle">Restaurant Details</h3>
        <div id="reviewsArea" class="reviews">Select a restaurant to see details and verified reviews.</div>
      </div>

    </section>
  </main>

  <footer id="footerText">Demo â€” All data is simulated for prototype. Based on real user validation with international travelers.</footer>

  <!-- Booking modal -->
  <div class="overlay" id="bookingOverlay">
    <div class="modal" role="dialog" aria-modal="true">
      <h3 id="modalTitle">Book Table</h3>
      <p id="modalMeta" style="color:var(--muted)"></p>

      <!-- Date and Time Selection -->
      <div class="calendar-input">
        <input type="datetime-local" id="bookingDateTime" min="" max="" />
      </div>

      <div style="display:flex;gap:8px;margin-top:12px">
        <div class="plan" style="flex:1">
          <div style="font-weight:700" id="premiumPlanTitle">Premium Guarantee</div>
          <div style="color:var(--muted);font-size:13px" id="premiumPlanDesc">Guaranteed seat â€¢ Skip queue â€¢ $4.99/month or $2.99 one-time</div>
        </div>
        <div class="plan" style="flex:1">
          <div style="font-weight:700" id="standardPlanTitle">Standard Queue</div>
          <div style="color:var(--muted);font-size:13px" id="standardPlanDesc">Join digital queue (free) â€¢ Real-time updates</div>
        </div>
      </div>

      <!-- Cancellation Fee Warning (only for Snail House Paris) -->
      <div id="cancellationFeeWarning" style="display:none" class="cancellation-fee">
        <strong>âš  Cancellation Policy</strong>
        <div style="font-size:13px;color:var(--muted);margin-top:4px">Cancellations within 2 hours incur a $25 fee</div>
      </div>

      <!-- Group booking option -->
      <div style="margin-top:12px;padding:10px;background:rgba(255,255,255,0.02);border-radius:8px">
        <label style="display:flex;align-items:center;gap:8px">
          <input type="checkbox" id="groupBooking" />
          <span id="groupBookingText">Group booking (6+ people) - notify restaurant in advance</span>
        </label>
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button class="btn" id="closeBookingmodal">Cancel</button>
        <button class="primary" id="confirmBooking">Confirm Booking</button>
      </div>
    </div>
  </div>

  <!-- Menu & Order modal -->
  <div class="overlay" id="menuOverlay">
    <div class="modal" role="dialog" aria-modal="true" style="max-width:600px">
      <h3 id="menumodalTitle">Menu</h3>
      <p id="menumodalMeta" style="color:var(--muted)"></p>
      
      <div id="menuContent">
        <!-- Menu will be populated here -->
      </div>

      <!-- Order Summary -->
      <div id="orderSummary" class="order-summary" style="display:none">
        <h4 id="orderSummaryTitle">Your Order</h4>
        <div id="orderItems"></div>
        <div class="order-total">
          <span id="totalText">Total:</span>
          <span id="orderTotal">$0.00</span>
        </div>
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button class="btn" id="closeMenumodal">Close</button>
        <button class="primary" id="confirmOrder" style="display:none">Place Order</button>
        <button class="primary" id="viewMenuBtn">View Menu</button>
      </div>
    </div>
  </div>

  <!-- Countdown modal -->
  <div class="overlay" id="countdownOverlay">
    <div class="modal" role="dialog" aria-modal="true">
      <h3 id="countdownTitle">Booking Confirmed!</h3>
      <p id="countdownSubtitle" style="color:var(--muted)">Your table will be ready in:</p>
      
      <div class="countdown-timer">
        <div class="countdown-text" id="countdownText">Estimated wait time</div>
        <div class="countdown-time" id="countdownTime">05:00</div>
      </div>

      <div style="text-align:center;color:var(--muted);font-size:13px;margin-top:16px">
        <div id="restaurantInfo">Restaurant information</div>
        <div id="bookingDetails">Booking details</div>
      </div>

      <div style="display:flex;gap:8px;justify-content:center;margin-top:20px">
        <button class="btn" id="minimizeCountdown">Minimize</button>
        <button class="btn" id="cancelCountdown">Cancel Booking</button>
        <button class="primary" id="orderFoodBtn" disabled>Order Food Now</button>
      </div>
    </div>
  </div>

  <!-- Minimized Countdown -->
  <div id="minimizedCountdown" class="countdown-minimized" style="display:none">
    <div class="minimized-header">
      <strong id="minimizedTitle">Table Ready In</strong>
      <button class="btn" onclick="closeMinimizedCountdown()" style="padding:4px 8px;font-size:12px">Ã—</button>
    </div>
    <div class="minimized-time" id="minimizedTime">05:00</div>
    <div class="minimized-restaurant" id="minimizedRestaurant"></div>
    <button class="primary" onclick="restoreCountdown()" style="width:100%;margin-top:8px;padding:8px">View Full</button>
  </div>

  <!-- Booking Ready modal -->
  <div class="overlay" id="readyOverlay">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="booking-ready">
        <div class="ready-icon pulse">ğŸ‰</div>
        <h3 id="readyTitle">Your Table is Ready!</h3>
        <p id="readyMessage" style="color:var(--muted);margin:16px 0">Please proceed to the reception area. Your table is waiting for you!</p>
        <div style="background:rgba(0,194,168,0.1);padding:12px;border-radius:8px;margin:16px 0">
          <strong id="readyRestaurant">Restaurant Name</strong>
          <div style="color:var(--muted);font-size:13px;margin-top:4px" id="readyTime">Ready now</div>
        </div>
        <button class="primary" id="closeReadymodal">Got it!</button>
      </div>
    </div>
  </div>

  <!-- Order Confirmation modal -->
  <div class="overlay" id="orderConfirmationOverlay">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="booking-ready">
        <div class="ready-icon pulse">ğŸ½ï¸</div>
        <h3 id="orderConfirmationTitle">Order Placed!</h3>
        <p id="orderConfirmationMessage" style="color:var(--muted);margin:16px 0">Your food will arrive shortly. The kitchen has received your order.</p>
        <div style="background:rgba(0,194,168,0.1);padding:12px;border-radius:8px;margin:16px 0">
          <strong id="orderRestaurantName">Restaurant Name</strong>
          <div style="color:var(--muted);font-size:13px;margin-top:4px" id="orderEstimatedTime">Estimated preparation time: 15-20 minutes</div>
        </div>
        <button class="primary" id="closeOrderConfirmation">Great, thanks!</button>
      </div>
    </div>
  </div>

  <!-- Reviews modal -->
  <div class="overlay" id="reviewsOverlay">
    <div class="modal" role="dialog" aria-modal="true">
      <h3 id="reviewsmodalTitle">Verified Reviews</h3>
      <p id="reviewsmodalMeta" style="color:var(--muted)"></p>
      
      <div id="reviewsContent" style="margin-top:16px">
        <!-- Reviews will be populated here -->
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button class="btn" id="closeReviewsmodal">Close</button>
        <button class="primary" onclick="openBooking(selectedRestaurant.id, 'guarantee')">Book Now</button>
      </div>
    </div>
  </div>

  <!-- Premium modal -->
  <div class="overlay" id="premiumOverlay">
    <div class="modal" role="dialog" aria-modal="true">
      <h3 id="premiummodalTitle">Go Premium</h3>
      <p id="premiummodalSubtitle" style="color:var(--muted)">Unlock exclusive features for international travelers</p>

      <div style="margin:20px 0">
        <div class="premium-feature">
          <div class="premium-icon">âœ“</div>
          <div>
            <div style="font-weight:700" id="feature1Title">Guaranteed Reservations</div>
            <div style="color:var(--muted);font-size:13px" id="feature1Desc">Skip the queue with guaranteed bookings at popular restaurants</div>
          </div>
        </div>
        <div class="premium-feature">
          <div class="premium-icon">âœ“</div>
          <div>
            <div style="font-weight:700" id="feature2Title">Flexible Cancellation</div>
            <div style="color:var(--muted);font-size:13px" id="feature2Desc">Cancel up to 1 hour before without penalty</div>
          </div>
        </div>
        <div class="premium-feature">
          <div class="premium-icon">âœ“</div>
          <div>
            <div style="font-weight:700" id="feature3Title">Members-only Restaurants</div>
            <div style="color:var(--muted);font-size:13px" id="feature3Desc">Access to premium/hard-to-book establishments</div>
          </div>
        </div>
        <div class="premium-feature">
          <div class="premium-icon">âœ“</div>
          <div>
            <div style="font-weight:700" id="feature4Title">Shorter Wait Time</div>
            <div style="color:var(--muted);font-size:13px" id="feature4Desc">Premium users get 1/3 of the normal wait time</div>
          </div>
        </div>
      </div>

      <div style="background:rgba(0,194,168,0.1);padding:16px;border-radius:10px;margin:16px 0">
        <div style="font-weight:700;text-align:center;font-size:24px" id="premiumPrice">$4.99<span style="font-size:14px;color:var(--muted)">/month</span></div>
        <div style="text-align:center;color:var(--muted);font-size:13px" id="premiumAlternative">or $2.99 per guaranteed booking</div>
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button class="btn" id="closePremiummodal">Cancel</button>
        <button class="primary" id="confirmPremium">Subscribe Now</button>
      </div>
    </div>
  </div>

  <script>
    // Enhanced restaurant dataset with multilingual content, images, menus, and cancellation policies
    const restaurants = [
      {
        id:1,
        name:"Luoyang Noodles",
        cuisine:"Local Chinese",
        rating:4.6,
        sourceRatings:[4.7,4.5,4.6],
        wait:18,
        features:["verified","skipQueue","multilingual","offline"],
        price:20,
        image:"https://images.unsplash.com/photo-1551183053-bf91a1d81141?w=150&h=150&fit=crop",
        hasCancellationFee: false,
        desc: {
          en: "Beloved local noodle spot with translated menu and authentic flavors.",
          es: "Lugar local de fideos favorito con menÃº traducido y sabores autÃ©nticos.",
          ch: "å¤‡å—å–œçˆ±çš„å½“åœ°é¢é¦†ï¼Œæä¾›ç¿»è¯‘èœå•å’Œæ­£å®—é£å‘³ã€‚"
        },
        menu: {
          en: {
            "Noodles": [
              {name: "Hand-pulled Noodles", description: "Freshly made noodles with beef broth", price: 12},
              {name: "Dan Dan Noodles", description: "Spicy Sichuan noodles with minced pork", price: 10},
              {name: "Beef Noodle Soup", description: "Traditional Taiwanese beef noodle soup", price: 14}
            ],
            "Dumplings": [
              {name: "Pork Dumplings", description: "Steamed dumplings with ginger soy", price: 8},
              {name: "Vegetable Dumplings", description: "Steamed vegetable dumplings", price: 7}
            ]
          },
          es: {
            "Fideos": [
              {name: "Fideos Estirados a Mano", description: "Fideos reciÃ©n hechos con caldo de res", price: 12},
              {name: "Fideos Dan Dan", description: "Fideos picantes de Sichuan con cerdo picado", price: 10},
              {name: "Sopa de Fideos con Res", description: "Sopa tradicional taiwanesa de fideos con res", price: 14}
            ],
            "Empanadillas": [
              {name: "Empanadillas de Cerdo", description: "Empanadillas al vapor con jengibre y soja", price: 8},
              {name: "Empanadillas de Verduras", description: "Empanadillas de verduras al vapor", price: 7}
            ]
          },
          ch: {
            "é¢æ¡": [
              {name: "æ‰‹æ‹‰é¢", description: "æ–°é²œåˆ¶ä½œçš„é¢æ¡é…ç‰›è‚‰æ±¤", price: 12},
              {name: "æ‹…æ‹…é¢", description: "å››å·è¾£é¢é…è‚‰æœ«", price: 10},
              {name: "ç‰›è‚‰é¢", description: "ä¼ ç»Ÿå°æ¹¾ç‰›è‚‰é¢", price: 14}
            ],
            "é¥ºå­": [
              {name: "çŒªè‚‰é¥ºå­", description: "è’¸é¥ºé…å§œæ±é…±æ²¹", price: 8},
              {name: "è”¬èœé¥ºå­", description: "è’¸è”¬èœé¥ºå­", price: 7}
            ]
          }
        },
        reviews: {
          en: [
            {text: "Authentic flavors! The noodles were amazing.", author: "Sarah M.", rating: 5},
            {text: "Queue moves fast and staff speaks English.", author: "James K.", rating: 4},
            {text: "Best noodles I've had in China. Menu in English was helpful.", author: "Maria L.", rating: 5}
          ],
          es: [
            {text: "Â¡Sabores autÃ©nticos! Los fideos fueron increÃ­bles.", author: "Sarah M.", rating: 5},
            {text: "La cola se mueve rÃ¡pido y el personal habla inglÃ©s.", author: "James K.", rating: 4},
            {text: "Los mejores fideos que he probado en China. El menÃº en inglÃ©s fue Ãºtil.", author: "Maria L.", rating: 5}
          ],
          ch: [
            {text: "æ­£å®—çš„é£å‘³ï¼é¢æ¡å¤ªæ£’äº†ã€‚", author: "Sarah M.", rating: 5},
            {text: "æ’é˜Ÿå¾ˆå¿«ï¼Œå‘˜å·¥ä¼šè¯´è‹±è¯­ã€‚", author: "James K.", rating: 4},
            {text: "æˆ‘åœ¨ä¸­å›½åƒè¿‡çš„æœ€å¥½çš„é¢æ¡ã€‚è‹±æ–‡èœå•å¾ˆæœ‰å¸®åŠ©ã€‚", author: "Maria L.", rating: 5}
          ]
        }
      },
      {
        id:2,
        name:"Ramen Tokyo",
        cuisine:"Ramen",
        rating:4.8,
        sourceRatings:[4.8,4.7,4.9],
        wait:40,
        features:["verified","multilingual","group"],
        price:12,
        image:"https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=150&h=150&fit=crop",
        hasCancellationFee: false,
        desc: {
          en: "Top ramen with authentic taste. Group bookings available with multilingual staff.",
          es: "Ramen superior con sabor autÃ©ntico. Reservas grupales disponibles con personal multilingÃ¼e.",
          ch: "é¡¶çº§æ‹‰é¢ï¼Œå£å‘³æ­£å®—ã€‚æä¾›å›¢ä½“é¢„è®¢å’Œå¤šè¯­è¨€å‘˜å·¥æœåŠ¡ã€‚"
        },
        menu: {
          en: {
            "Ramen": [
              {name: "Tonkotsu Ramen", description: "Rich pork bone broth with chashu", price: 13},
              {name: "Shoyu Ramen", description: "Soy sauce based broth with chicken", price: 11},
              {name: "Miso Ramen", description: "Miso flavored broth with corn", price: 12}
            ],
            "Sides": [
              {name: "Gyoza", description: "Pan-fried pork dumplings", price: 6},
              {name: "Karaage", description: "Japanese fried chicken", price: 7}
            ]
          },
          es: {
            "Ramen": [
              {name: "Ramen Tonkotsu", description: "Caldo rico de hueso de cerdo con chashu", price: 13},
              {name: "Ramen Shoyu", description: "Caldo base de salsa de soja con pollo", price: 11},
              {name: "Ramen Miso", description: "Caldo con sabor a miso con maÃ­z", price: 12}
            ],
            "AcompaÃ±amientos": [
              {name: "Gyoza", description: "Empanadillas de cerdo fritas", price: 6},
              {name: "Karaage", description: "Pollo frito japonÃ©s", price: 7}
            ]
          },
          ch: {
            "æ‹‰é¢": [
              {name: "è±šéª¨æ‹‰é¢", description: "æµ“éƒçš„çŒªéª¨æ±¤é…å‰çƒ§", price: 13},
              {name: "é…±æ²¹æ‹‰é¢", description: "é…±æ²¹æ±¤åº•é…é¸¡è‚‰", price: 11},
              {name: "å‘³å™Œæ‹‰é¢", description: "å‘³å™Œé£å‘³æ±¤åº•é…ç‰ç±³", price: 12}
            ],
            "å°åƒ": [
              {name: "é¥ºå­", description: "ç…çŒªè‚‰é¥ºå­", price: 6},
              {name: "ç‚¸é¸¡", description: "æ—¥å¼ç‚¸é¸¡", price: 7}
            ]
          }
        },
        reviews: {
          en: [
            {text: "Best ramen in town! Worth the wait.", author: "Tom R.", rating: 5},
            {text: "Friendly staff speaks English and the broth is incredible.", author: "Lisa P.", rating: 5},
            {text: "Perfect for groups. We booked for 8 people easily.", author: "David W.", rating: 4}
          ],
          es: [
            {text: "Â¡El mejor ramen de la ciudad! Vale la pena la espera.", author: "Tom R.", rating: 5},
            {text: "Personal amable que habla inglÃ©s y el caldo es increÃ­ble.", author: "Lisa P.", rating: 5},
            {text: "Perfecto para grupos. Reservamos para 8 personas fÃ¡cilmente.", author: "David W.", rating: 4}
          ],
          ch: [
            {text: "åŸé‡Œæœ€å¥½çš„æ‹‰é¢ï¼å€¼å¾—ç­‰å¾…ã€‚", author: "Tom R.", rating: 5},
            {text: "å‘˜å·¥å‹å¥½ï¼Œä¼šè¯´è‹±è¯­ï¼Œæ±¤åº•éå¸¸æ£’ã€‚", author: "Lisa P.", rating: 5},
            {text: "éå¸¸é€‚åˆå›¢ä½“ã€‚æˆ‘ä»¬è½»æ¾é¢„è®¢äº†8ä¸ªäººã€‚", author: "David W.", rating: 4}
          ]
        }
      },
      {
        id:3,
        name:"Snail House Paris",
        cuisine:"French",
        rating:4.3,
        sourceRatings:[4.2,4.4],
        wait:10,
        features:["premium","verified","multilingual","cancellationFee"],
        price:45,
        image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=150&h=150&fit=crop",
        hasCancellationFee: true, // Only this restaurant has cancellation fee
        cancellationFee: 25,
        desc: {
          en: "Known for escargot and romantic ambiance. Premium booking available with multilingual service.",
          es: "Conocido por sus caracoles y ambiente romÃ¡ntico. Reserva premium disponible con servicio multilingÃ¼e.",
          ch: "ä»¥èœ—ç‰›å’Œæµªæ¼«æ°›å›´é—»åã€‚æä¾›é«˜çº§é¢„è®¢å’Œå¤šè¯­è¨€æœåŠ¡ã€‚"
        },
        menu: {
          en: {
            "Appetizers": [
              {name: "Escargot", description: "Snails in garlic herb butter", price: 18},
              {name: "Foie Gras", description: "Duck liver pÃ¢tÃ© with toast", price: 22},
              {name: "French Onion Soup", description: "Traditional onion soup with cheese", price: 12}
            ],
            "Main Courses": [
              {name: "Duck Confit", description: "Slow-cooked duck with potatoes", price: 28},
              {name: "Beef Bourguignon", description: "Beef stew in red wine sauce", price: 32},
              {name: "Coq au Vin", description: "Chicken in wine sauce", price: 26}
            ],
            "Desserts": [
              {name: "CrÃ¨me BrÃ»lÃ©e", description: "Vanilla custard with caramelized sugar", price: 9},
              {name: "Chocolate SoufflÃ©", description: "Warm chocolate dessert", price: 11}
            ]
          },
          es: {
            "Entrantes": [
              {name: "Caracoles", description: "Caracoles en mantequilla de ajo y hierbas", price: 18},
              {name: "Foie Gras", description: "PatÃ© de hÃ­gado de pato con tostadas", price: 22},
              {name: "Sopa de Cebolla", description: "Sopa tradicional de cebolla con queso", price: 12}
            ],
            "Platos Principales": [
              {name: "Confit de Pato", description: "Pato cocido lentamente con patatas", price: 28},
              {name: "Boeuf Bourguignon", description: "Estofado de res en salsa de vino tinto", price: 32},
              {name: "Coq au Vin", description: "Pollo en salsa de vino", price: 26}
            ],
            "Postres": [
              {name: "CrÃ¨me BrÃ»lÃ©e", description: "Natilla de vainilla con azÃºcar caramelizado", price: 9},
              {name: "SuflÃ© de Chocolate", description: "Postre caliente de chocolate", price: 11}
            ]
          },
          ch: {
            "å¼€èƒƒèœ": [
              {name: "æ³•å¼èœ—ç‰›", description: "å¤§è’œé¦™è‰é»„æ²¹èœ—ç‰›", price: 18},
              {name: "é¹…è‚", description: "é¸­è‚é…±é…åå¸", price: 22},
              {name: "æ³•å¼æ´‹è‘±æ±¤", description: "ä¼ ç»Ÿæ´‹è‘±æ±¤é…å¥¶é…ª", price: 12}
            ],
            "ä¸»èœ": [
              {name: "æ²¹å°é¸­", description: "æ…¢ç…®é¸­é…åœŸè±†", price: 28},
              {name: "å‹ƒè‰®ç¬¬ç‰›è‚‰", description: "çº¢é…’ç‚–ç‰›è‚‰", price: 32},
              {name: "çº¢é…’çƒ©é¸¡", description: "è‘¡è„é…’é…±é¸¡è‚‰", price: 26}
            ],
            "ç”œç‚¹": [
              {name: "ç„¦ç³–å¸ƒä¸", description: "é¦™è‰è›‹å¥¶é…ç„¦ç³–", price: 9},
              {name: "å·§å…‹åŠ›èˆ’èŠ™è•¾", description: "çƒ­å·§å…‹åŠ›ç”œç‚¹", price: 11}
            ]
          }
        },
        reviews: {
          en: [
            {text: "Romantic atmosphere and excellent escargot.", author: "Emma C.", rating: 5},
            {text: "Multilingual staff made us feel welcome.", author: "Robert J.", rating: 4},
            {text: "Premium booking was worth it - no wait at all!", author: "Sophie M.", rating: 5}
          ],
          es: [
            {text: "Ambiente romÃ¡ntico y excelentes caracoles.", author: "Emma C.", rating: 5},
            {text: "El personal multilingÃ¼e nos hizo sentir bienvenidos.", author: "Robert J.", rating: 4},
            {text: "La reserva premium valiÃ³ la pena - Â¡sin espera!", author: "Sophie M.", rating: 5}
          ],
          ch: [
            {text: "æµªæ¼«çš„æ°›å›´å’Œå‡ºè‰²çš„èœ—ç‰›ã€‚", author: "Emma C.", rating: 5},
            {text: "å¤šè¯­è¨€å‘˜å·¥è®©æˆ‘ä»¬æ„Ÿåˆ°å—æ¬¢è¿ã€‚", author: "Robert J.", rating: 4},
            {text: "é«˜çº§é¢„è®¢å¾ˆå€¼å¾—â€”â€”å®Œå…¨ä¸ç”¨ç­‰å¾…ï¼", author: "Sophie M.", rating: 5}
          ]
        }
      },
      {
        id:4,
        name:"Tapas Barcelona",
        cuisine:"Spanish",
        rating:4.5,
        sourceRatings:[4.4,4.6],
        wait:5,
        features:["verified","skipQueue","group","offline"],
        price:30,
        image:"https://images.unsplash.com/photo-1551183053-bf91a1d81141?w=150&h=150&fit=crop",
        hasCancellationFee: false,
        desc: {
          en: "Great atmosphere and authentic tapas. Offline maps available for easy navigation.",
          es: "Excelente ambiente y tapas autÃ©nticas. Mapas sin conexiÃ³n disponibles para navegaciÃ³n fÃ¡cil.",
          ch: "æ°›å›´å¾ˆæ£’ï¼Œæä¾›æ­£å®—å¡”å¸•æ–¯ã€‚æä¾›ç¦»çº¿åœ°å›¾ä¾¿äºå¯¼èˆªã€‚"
        },
        menu: {
          en: {
            "Tapas": [
              {name: "Patatas Bravas", description: "Fried potatoes with spicy sauce", price: 8},
              {name: "Gambas al Ajillo", description: "Garlic shrimp", price: 12},
              {name: "Tortilla EspaÃ±ola", description: "Spanish omelette with potatoes", price: 9}
            ],
            "Paella": [
              {name: "Paella Valenciana", description: "Traditional rice with seafood and chicken", price: 18},
              {name: "Paella de Mariscos", description: "Seafood paella", price: 20}
            ]
          },
          es: {
            "Tapas": [
              {name: "Patatas Bravas", description: "Patatas fritas con salsa picante", price: 8},
              {name: "Gambas al Ajillo", description: "Gambas al ajillo", price: 12},
              {name: "Tortilla EspaÃ±ola", description: "Tortilla de patatas espaÃ±ola", price: 9}
            ],
            "Paella": [
              {name: "Paella Valenciana", description: "Arroz tradicional con mariscos y pollo", price: 18},
              {name: "Paella de Mariscos", description: "Paella de mariscos", price: 20}
            ]
          },
          ch: {
            "å¡”å¸•æ–¯": [
              {name: "å‹‡æ•¢åœŸè±†", description: "ç‚¸åœŸè±†é…è¾£é…±", price: 8},
              {name: "è’œé¦™è™¾", description: "å¤§è’œè™¾", price: 12},
              {name: "è¥¿ç­ç‰™è›‹é¥¼", description: "è¥¿ç­ç‰™åœŸè±†è›‹é¥¼", price: 9}
            ],
            "æµ·é²œé¥­": [
              {name: "ç“¦ä¼¦è¥¿äºšæµ·é²œé¥­", description: "ä¼ ç»Ÿç±³é¥­é…æµ·é²œå’Œé¸¡è‚‰", price: 18},
              {name: "æµ·é²œé¥­", description: "æµ·é²œé¥­", price: 20}
            ]
          }
        },
        reviews: {
          en: [
            {text: "Authentic tapas and great sangria!", author: "Carlos M.", rating: 5},
            {text: "Quick seating with premium skip queue feature.", author: "Anna B.", rating: 4},
            {text: "Perfect spot for group dinners. Offline maps helped us find it.", author: "Michael T.", rating: 5}
          ],
          es: [
            {text: "Â¡Tapas autÃ©nticas y sangrÃ­a excelente!", author: "Carlos M.", rating: 5},
            {text: "Asiento rÃ¡pido con la funciÃ³n premium de saltar la cola.", author: "Anna B.", rating: 4},
            {text: "Lugar perfecto para cenas en grupo. Los mapas sin conexiÃ³n nos ayudaron a encontrarlo.", author: "Michael T.", rating: 5}
          ],
          ch: [
            {text: "æ­£å®—çš„å¡”å¸•æ–¯å’Œç¾å‘³çš„æ¡‘æ ¼åˆ©äºšé…’ï¼", author: "Carlos M.", rating: 5},
            {text: "ä½¿ç”¨é«˜çº§è·³è¿‡æ’é˜ŸåŠŸèƒ½å¿«é€Ÿå…¥åº§ã€‚", author: "Anna B.", rating: 4},
            {text: "å›¢ä½“æ™šé¤çš„å®Œç¾åœ°ç‚¹ã€‚ç¦»çº¿åœ°å›¾å¸®æˆ‘ä»¬æ‰¾åˆ°äº†å®ƒã€‚", author: "Michael T.", rating: 5}
          ]
        }
      },
      {
        id:5,
        name:"Cheesecake Factory (Demo)",
        cuisine:"American",
        rating:4.0,
        sourceRatings:[4.0,4.1],
        wait:22,
        features:[],
        price:18,
        image:"https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=150&h=150&fit=crop",
        hasCancellationFee: false,
        desc: {
          en: "Large portions, casual dining with extensive menu options.",
          es: "Porciones grandes, comida casual con extensas opciones de menÃº.",
          ch: "ä»½é‡å¤§ï¼Œä¼‘é—²é¤é¥®ï¼Œèœå•é€‰æ‹©ä¸°å¯Œã€‚"
        },
        menu: {
          en: {
            "Burgers": [
              {name: "Classic Burger", description: "Beef patty with lettuce and tomato", price: 14},
              {name: "BBQ Bacon Burger", description: "Burger with bacon and BBQ sauce", price: 16}
            ],
            "Desserts": [
              {name: "Original Cheesecake", description: "Classic New York cheesecake", price: 8},
              {name: "Chocolate Cake", description: "Rich chocolate layer cake", price: 7}
            ]
          },
          es: {
            "Hamburguesas": [
              {name: "Hamburguesa ClÃ¡sica", description: "Hamburguesa de res con lechuga y tomate", price: 14},
              {name: "Hamburguesa BBQ con Bacon", description: "Hamburguesa con bacon y salsa BBQ", price: 16}
            ],
            "Postres": [
              {name: "Tarta de Queso Original", description: "Tarta de queso clÃ¡sica de Nueva York", price: 8},
              {name: "Tarta de Chocolate", description: "Tarta de chocolate intenso", price: 7}
            ]
          },
          ch: {
            "æ±‰å ¡": [
              {name: "ç»å…¸æ±‰å ¡", description: "ç‰›è‚‰é¥¼é…ç”Ÿèœå’Œç•ªèŒ„", price: 14},
              {name: "çƒ§çƒ¤åŸ¹æ ¹æ±‰å ¡", description: "æ±‰å ¡é…åŸ¹æ ¹å’Œçƒ§çƒ¤é…±", price: 16}
            ],
            "ç”œç‚¹": [
              {name: "åŸå‘³èŠå£«è›‹ç³•", description: "ç»å…¸çº½çº¦èŠå£«è›‹ç³•", price: 8},
              {name: "å·§å…‹åŠ›è›‹ç³•", description: "æµ“éƒå·§å…‹åŠ›åˆ†å±‚è›‹ç³•", price: 7}
            ]
          }
        }
      },
      {
        id:6,
        name:"Berlin Currywurst",
        cuisine:"German",
        rating:4.4,
        sourceRatings:[4.3,4.5],
        wait:8,
        features:["verified","offline","multilingual"],
        price:15,
        image:"https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=150&h=150&fit=crop",
        hasCancellationFee: false,
        desc: {
          en: "Authentic German street food. Offline navigation available with multilingual menus.",
          es: "Comida callejera alemana autÃ©ntica. NavegaciÃ³n sin conexiÃ³n disponible con menÃºs multilingÃ¼es.",
          ch: "æ­£å®—å¾·å›½è¡—å¤´ç¾é£Ÿã€‚æä¾›ç¦»çº¿å¯¼èˆªå’Œå¤šè¯­è¨€èœå•ã€‚"
        },
        menu: {
          en: {
            "Sausages": [
              {name: "Currywurst", description: "German sausage with curry ketchup", price: 9},
              {name: "Bratwurst", description: "Grilled German sausage", price: 8}
            ],
            "Sides": [
              {name: "French Fries", description: "Crispy fries with seasoning", price: 4},
              {name: "Potato Salad", description: "Traditional German potato salad", price: 5}
            ]
          },
          es: {
            "Salchichas": [
              {name: "Currywurst", description: "Salchicha alemana con kÃ©tchup de curry", price: 9},
              {name: "Bratwurst", description: "Salchicha alemana a la parrilla", price: 8}
            ],
            "AcompaÃ±amientos": [
              {name: "Patatas Fritas", description: "Patatas fritas crujientes con condimentos", price: 4},
              {name: "Ensalada de Patatas", description: "Ensalada de patatas alemana tradicional", price: 5}
            ]
          },
          ch: {
            "é¦™è‚ ": [
              {name: "å’–å–±é¦™è‚ ", description: "å¾·å¼é¦™è‚ é…å’–å–±ç•ªèŒ„é…±", price: 9},
              {name: "çƒ¤è‚ ", description: "çƒ¤å¾·å¼é¦™è‚ ", price: 8}
            ],
            "é…èœ": [
              {name: "è–¯æ¡", description: "è„†è–¯æ¡é…è°ƒå‘³æ–™", price: 4},
              {name: "åœŸè±†æ²™æ‹‰", description: "ä¼ ç»Ÿå¾·å¼åœŸè±†æ²™æ‹‰", price: 5}
            ]
          }
        },
        reviews: {
          en: [
            {text: "Quick service and delicious currywurst!", author: "Hans G.", rating: 4},
            {text: "Great for a quick bite. English menu available.", author: "Julia W.", rating: 5},
            {text: "Found it easily with offline maps when we had no signal.", author: "Paul R.", rating: 4}
          ],
          es: [
            {text: "Â¡Servicio rÃ¡pido y currywurst delicioso!", author: "Hans G.", rating: 4},
            {text: "Excelente para un bocado rÃ¡pido. MenÃº en inglÃ©s disponible.", author: "Julia W.", rating: 5},
            {text: "Lo encontramos fÃ¡cilmente con mapas sin conexiÃ³n cuando no tenÃ­amos seÃ±al.", author: "Paul R.", rating: 4}
          ],
          ch: [
            {text: "å¿«é€Ÿçš„æœåŠ¡å’Œç¾å‘³çš„å’–å–±é¦™è‚ ï¼", author: "Hans G.", rating: 4},
            {text: "éå¸¸é€‚åˆå¿«é€Ÿç”¨é¤ã€‚æä¾›è‹±æ–‡èœå•ã€‚", author: "Julia W.", rating: 5},
            {text: "å½“æˆ‘ä»¬æ²¡æœ‰ä¿¡å·æ—¶ï¼Œä½¿ç”¨ç¦»çº¿åœ°å›¾è½»æ¾æ‰¾åˆ°äº†å®ƒã€‚", author: "Paul R.", rating: 4}
          ]
        }
      }
    ];

    // UI references
    const nearbyList = document.getElementById('nearbyList');
    const resultsGrid = document.getElementById('resultsGrid');
    const reviewsArea = document.getElementById('reviewsArea');
    const bookingOverlay = document.getElementById('bookingOverlay');
    const countdownOverlay = document.getElementById('countdownOverlay');
    const readyOverlay = document.getElementById('readyOverlay');
    const menuOverlay = document.getElementById('menuOverlay');
    const orderConfirmationOverlay = document.getElementById('orderConfirmationOverlay');
    const reviewsOverlay = document.getElementById('reviewsOverlay');
    const premiumOverlay = document.getElementById('premiumOverlay');
    const minimizedCountdown = document.getElementById('minimizedCountdown');
    
    // Form elements
    const bookingDateTime = document.getElementById('bookingDateTime');
    const cancellationFeeWarning = document.getElementById('cancellationFeeWarning');
    const groupBookingCheckbox = document.getElementById('groupBooking');
    const orderFoodBtn = document.getElementById('orderFoodBtn');
    
    let selectedRestaurant = null;
    let user = {premium:false};
    let activeFilters = new Set(['verified']);
    let currentLang = 'en';
    let countdownInterval = null;
    let remainingTime = 0;
    let currentOrder = [];
    let canOrderFood = false; // Flag to control when ordering is allowed

    // Set min/max dates for booking
    const today = new Date();
    const nextYear = new Date(today.getFullYear() + 1, today.getMonth(), today.getDate());
    bookingDateTime.min = today.toISOString().slice(0, 16);
    bookingDateTime.max = nextYear.toISOString().slice(0, 16);

    // Complete website translations
    const translations = {
      en: {
        // Header
        headerTitle: "EatEase â€” Restaurant Discovery & Booking",
        headerSubtitle: "All-in-one global restaurant discovery â€¢ Real-time queue tracking â€¢ Verified reviews",
        premiumBtn: "Go Premium",
        
        // Sidebar
        searchPlaceholder: "Search restaurants or cuisine (e.g. ramen, snails)",
        searchBtn: "Search",
        mapText: "Map preview",
        offlineText: "Offline maps available",
        liveQueueText: "Live queue tracking",
        updatedText: "Updated every 5s",
        filtersText: "Quick filters",
        filterVerified: "Verified Reviews",
        filterSkipQueue: "Skip Queue",
        filterPremium: "Guaranteed Booking",
        filterMultilingual: "Multilingual Menu",
        filterOffline: "Offline Maps",
        filterGroup: "Group Booking",
        
        // Main content
        trustedText: "Trusted by International Travelers",
        heroTitle: "Find & Book Restaurants Globally",
        heroSubtitle: "Real-time queue tracking â€¢ Verified multilingual reviews â€¢ Guaranteed reservations â€¢ Offline maps",
        userTypeText: "Simulated user",
        userDetails: "Traveler â€” 2 trips / year",
        filterPlaceholder: "Filter by feature (e.g. skip queue)",
        clearBtn: "Clear",
        detailsTitle: "Restaurant Details",
        selectRestaurant: "Select a restaurant to see details and verified reviews.",
        viewReviews: "Reviews",
        joinQueue: "Join",
        bookNow: "Book Now",
        viewMenu: "View Menu",
        
        // Booking modal
        bookTable: "Book Table",
        premiumPlanTitle: "Premium Guarantee",
        premiumPlanDesc: "Guaranteed seat â€¢ Skip queue â€¢ $4.99/month or $2.99 one-time",
        standardPlanTitle: "Standard Queue",
        standardPlanDesc: "Join digital queue (free) â€¢ Real-time updates",
        groupBookingText: "Group booking (6+ people) - notify restaurant in advance",
        cancelBtn: "Cancel",
        confirmBooking: "Confirm Booking",
        
        // Countdown modal
        countdownTitle: "Booking Confirmed!",
        countdownSubtitle: "Your table will be ready in:",
        countdownText: "Estimated wait time",
        restaurantInfo: "Restaurant information",
        bookingDetails: "Booking details",
        cancelBooking: "Cancel Booking",
        
        // Ready modal
        readyTitle: "Your Table is Ready!",
        readyMessage: "Please proceed to the reception area. Your table is waiting for you!",
        readyTime: "Ready now",
        gotIt: "Got it!",
        
        // Reviews modal
        verifiedReviews: "Verified Reviews",
        closeBtn: "Close",
        
        // Premium modal
        goPremium: "Go Premium",
        premiumSubtitle: "Unlock exclusive features for international travelers",
        feature1Title: "Guaranteed Reservations",
        feature1Desc: "Skip the queue with guaranteed bookings at popular restaurants",
        feature2Title: "Flexible Cancellation",
        feature2Desc: "Cancel up to 1 hour before without penalty",
        feature3Title: "Members-only Restaurants",
        feature3Desc: "Access to premium/hard-to-book establishments",
        feature4Title: "Shorter Wait Time",
        feature4Desc: "Premium users get 1/3 of the normal wait time",
        premiumPrice: "$4.99",
        premiumAlternative: "or $2.99 per guaranteed booking",
        subscribeNow: "Subscribe Now",
        
        // Footer
        footerText: "Demo â€” All data is simulated for prototype. Based on real user validation with international travelers.",
        
        // Messages
        alreadyPremium: "Already premium â€” thanks!",
        subscribeConfirm: "Subscribe to Premium for $4.99/month? Get guaranteed bookings, skip queues, and offline maps.",
        subscribed: "Subscribed â€” Premium features unlocked!",
        premiumRequired: "Guaranteed bookings require Premium. Subscribe for $4.99/month or pay $2.99 one-time? (OK = subscribe, Cancel = one-time)",
        bookingConfirmed: "Confirmed booking at",
        groupNotification: "Group booking notification sent to restaurant.",
        offlineAvailable: "Offline map available for navigation.",
        enjoyMeal: "Enjoy your meal!",
        noReviews: "No verified reviews yet for this restaurant.",
        
        // New menu translations
        menu: "Menu",
        orderPlaced: "Order Placed!",
        orderConfirmationMessage: "Your food will arrive shortly. The kitchen has received your order.",
        estimatedPreparation: "Estimated preparation time: 15-20 minutes",
        yourOrder: "Your Order",
        total: "Total:",
        placeOrder: "Place Order",
        viewMenu: "View Menu",
        minimize: "Minimize",
        orderFoodNow: "Order Food Now",
        tableReadyIn: "Table Ready In",
        viewFull: "View Full",
        orderNotAvailable: "Ordering available when table is ready"
      },
      es: {
        // Header
        headerTitle: "EatEase â€” Descubrimiento y Reserva de Restaurantes",
        headerSubtitle: "Descubrimiento global de restaurantes todo en uno â€¢ Seguimiento de colas en tiempo real â€¢ ReseÃ±as verificadas",
        premiumBtn: "Pagar Premium",
        
        // Sidebar
        searchPlaceholder: "Buscar restaurantes o cocina (ej. ramen, caracoles)",
        searchBtn: "Buscar",
        mapText: "Vista previa del mapa",
        offlineText: "Mapas sin conexiÃ³n disponibles",
        liveQueueText: "Seguimiento de colas en vivo",
        updatedText: "Actualizado cada 5s",
        filtersText: "Filtros rÃ¡pidos",
        filterVerified: "ReseÃ±as Verificadas",
        filterSkipQueue: "Saltar Cola",
        filterPremium: "Reserva Garantizada",
        filterMultilingual: "MenÃº MultilingÃ¼e",
        filterOffline: "Mapas Sin ConexiÃ³n",
        filterGroup: "Reserva Grupal",
        
        // Main content
        trustedText: "Confiado por Viajeros Internacionales",
        heroTitle: "Encuentra y Reserva Restaurantes Globalmente â€” Sin Barreras LingÃ¼Ã­sticas",
        heroSubtitle: "Seguimiento de colas en tiempo real â€¢ ReseÃ±as multilingÃ¼es verificadas â€¢ Reservas garantizadas â€¢ Mapas sin conexiÃ³n",
        userTypeText: "Usuario simulado",
        userDetails: "Viajero â€” 2 viajes / aÃ±o",
        filterPlaceholder: "Filtrar por caracterÃ­stica (ej. saltar cola)",
        clearBtn: "Limpiar",
        detailsTitle: "Detalles del Restaurante",
        selectRestaurant: "Selecciona un restaurante para ver detalles y reseÃ±as verificadas.",
        viewReviews: "ReseÃ±as",
        joinQueue: "Unirse",
        bookNow: "Reservar Ahora",
        viewMenu: "Ver MenÃº",
        
        // Booking modal
        bookTable: "Reservar Mesa",
        premiumPlanTitle: "GarantÃ­a Premium",
        premiumPlanDesc: "Asiento garantizado â€¢ Saltar cola â€¢ $4.99/mes o $2.99 Ãºnica vez",
        standardPlanTitle: "Cola EstÃ¡ndar",
        standardPlanDesc: "Unirse a cola digital (gratis) â€¢ Actualizaciones en tiempo real",
        groupBookingText: "Reserva grupal (6+ personas) - notificar al restaurante con anticipaciÃ³n",
        cancelBtn: "Cancelar",
        confirmBooking: "Confirmar Reserva",
        
        // Countdown modal
        countdownTitle: "Â¡Reserva Confirmada!",
        countdownSubtitle: "Tu mesa estarÃ¡ lista en:",
        countdownText: "Tiempo de espera estimado",
        restaurantInfo: "InformaciÃ³n del restaurante",
        bookingDetails: "Detalles de la reserva",
        cancelBooking: "Cancelar Reserva",
        
        // Ready modal
        readyTitle: "Â¡Tu Mesa estÃ¡ Lista!",
        readyMessage: "Por favor, dirÃ­gete al Ã¡rea de recepciÃ³n. Â¡Tu mesa te estÃ¡ esperando!",
        readyTime: "Listo ahora",
        gotIt: "Â¡Entendido!",
        
        // Reviews modal
        verifiedReviews: "ReseÃ±as Verificadas",
        closeBtn: "Cerrar",
        
        // Premium modal
        goPremium: "Pagar Premium",
        premiumSubtitle: "Desbloquea funciones exclusivas para viajeros internacionales",
        feature1Title: "Reservas Garantizadas",
        feature1Desc: "Salta la cola con reservas garantizadas en restaurantes populares",
        feature2Title: "Mapas y MenÃºs Sin ConexiÃ³n",
        feature2Desc: "Accede a informaciÃ³n de restaurantes y navegaciÃ³n sin conexiÃ³n a internet",
        feature3Title: "Soporte Prioritario",
        feature3Desc: "Soporte al cliente multilingÃ¼e 24/7 para tus viajes",
        feature4Title: "Herramientas de Reserva Grupal",
        feature4Desc: "Reserva fÃ¡cil para grupos grandes y viajes familiares",
        premiumPrice: "$4.99",
        premiumAlternative: "o $2.99 por reserva garantizada",
        subscribeNow: "Suscribirse Ahora",
        
        // Footer
        footerText: "Demo â€” Todos los datos son simulados para prototipo. Basado en validaciÃ³n real con viajeros internacionales.",
        
        // Messages
        alreadyPremium: "Ya eres premium â€” Â¡gracias!",
        subscribeConfirm: "Â¿Suscribirse a Premium por $4.99/mes? ObtÃ©n reservas garantizadas, salta colas y mapas sin conexiÃ³n.",
        subscribed: "Â¡Suscrito â€” Funciones premium desbloqueadas!",
        premiumRequired: "Las reservas garantizadas requieren Premium. Â¿Suscribirse por $4.99/mes o pagar $2.99 por Ãºnica vez? (OK = suscribirse, Cancelar = Ãºnica vez)",
        bookingConfirmed: "Reserva confirmada en",
        groupNotification: "NotificaciÃ³n de reserva grupal enviada al restaurante.",
        offlineAvailable: "Mapa sin conexiÃ³n disponible para navegaciÃ³n.",
        enjoyMeal: "Â¡Disfruta tu comida!",
        noReviews: "AÃºn no hay reseÃ±as verificadas para este restaurante.",
        
        // New menu translations
        menu: "MenÃº",
        orderPlaced: "Â¡Pedido Realizado!",
        orderConfirmationMessage: "Tu comida llegarÃ¡ pronto. La cocina ha recibido tu pedido.",
        estimatedPreparation: "Tiempo estimado de preparaciÃ³n: 15-20 minutos",
        yourOrder: "Tu Pedido",
        total: "Total:",
        placeOrder: "Realizar Pedido",
        viewMenu: "Ver MenÃº",
        minimize: "Minimizar",
        orderFoodNow: "Pedir Comida Ahora",
        tableReadyIn: "Mesa Lista En",
        viewFull: "Ver Completo",
        orderNotAvailable: "Pedido disponible cuando la mesa estÃ© lista"
      },
      ch: {
        // Header
        headerTitle: "EatEase â€” é¤å…å‘ç°ä¸é¢„è®¢",
        headerSubtitle: "ä¸€ä½“åŒ–å…¨çƒé¤å…å‘ç° â€¢ å®æ—¶æ’é˜Ÿè·Ÿè¸ª â€¢ å·²éªŒè¯è¯„ä»·",
        premiumBtn: "å¼€é€šé«˜çº§ç‰ˆ",
        
        // Sidebar
        searchPlaceholder: "æœç´¢é¤å…æˆ–ç¾é£Ÿï¼ˆä¾‹å¦‚ï¼šæ‹‰é¢ï¼Œèœ—ç‰›ï¼‰",
        searchBtn: "æœç´¢",
        mapText: "åœ°å›¾é¢„è§ˆ",
        offlineText: "ç¦»çº¿åœ°å›¾å¯ç”¨",
        liveQueueText: "å®æ—¶æ’é˜Ÿè·Ÿè¸ª",
        updatedText: "æ¯5ç§’æ›´æ–°",
        filtersText: "å¿«é€Ÿç­›é€‰",
        filterVerified: "å·²éªŒè¯è¯„ä»·",
        filterSkipQueue: "è·³è¿‡æ’é˜Ÿ",
        filterPremium: "ä¿è¯é¢„è®¢",
        filterMultilingual: "å¤šè¯­è¨€èœå•",
        filterOffline: "ç¦»çº¿åœ°å›¾",
        filterGroup: "å›¢ä½“é¢„è®¢",
        
        // Main content
        trustedText: "å—å›½é™…æ—…å®¢ä¿¡èµ–",
        heroTitle: "å…¨çƒå¯»æ‰¾å’Œé¢„è®¢é¤å… â€” æ— è¯­è¨€éšœç¢",
        heroSubtitle: "å®æ—¶æ’é˜Ÿè·Ÿè¸ª â€¢ å·²éªŒè¯å¤šè¯­è¨€è¯„ä»· â€¢ ä¿è¯é¢„è®¢ â€¢ ç¦»çº¿åœ°å›¾",
        userTypeText: "æ¨¡æ‹Ÿç”¨æˆ·",
        userDetails: "æ—…å®¢ â€” æ¯å¹´2æ¬¡æ—…è¡Œ",
        filterPlaceholder: "æŒ‰åŠŸèƒ½ç­›é€‰ï¼ˆä¾‹å¦‚ï¼šè·³è¿‡æ’é˜Ÿï¼‰",
        clearBtn: "æ¸…é™¤",
        detailsTitle: "é¤å…è¯¦æƒ…",
        selectRestaurant: "é€‰æ‹©é¤å…æŸ¥çœ‹è¯¦æƒ…å’Œå·²éªŒè¯è¯„ä»·ã€‚",
        viewReviews: "è¯„ä»·",
        joinQueue: "åŠ å…¥",
        bookNow: "ç«‹å³é¢„è®¢",
        viewMenu: "æŸ¥çœ‹èœå•",
        
        // Booking modal
        bookTable: "é¢„è®¢é¤æ¡Œ",
        premiumPlanTitle: "é«˜çº§ä¿è¯",
        premiumPlanDesc: "ä¿è¯åº§ä½ â€¢ è·³è¿‡æ’é˜Ÿ â€¢ $4.99/æœˆæˆ–$2.99å•æ¬¡",
        standardPlanTitle: "æ ‡å‡†æ’é˜Ÿ",
        standardPlanDesc: "åŠ å…¥æ•°å­—é˜Ÿåˆ—ï¼ˆå…è´¹ï¼‰â€¢ å®æ—¶æ›´æ–°",
        groupBookingText: "å›¢ä½“é¢„è®¢ï¼ˆ6äººä»¥ä¸Šï¼‰- æå‰é€šçŸ¥é¤å…",
        cancelBtn: "å–æ¶ˆ",
        confirmBooking: "ç¡®è®¤é¢„è®¢",
        
        // Countdown modal
        countdownTitle: "é¢„è®¢å·²ç¡®è®¤ï¼",
        countdownSubtitle: "æ‚¨çš„é¤æ¡Œå°†åœ¨ä»¥ä¸‹æ—¶é—´å†…å‡†å¤‡å¥½ï¼š",
        countdownText: "é¢„è®¡ç­‰å¾…æ—¶é—´",
        restaurantInfo: "é¤å…ä¿¡æ¯",
        bookingDetails: "é¢„è®¢è¯¦æƒ…",
        cancelBooking: "å–æ¶ˆé¢„è®¢",
        
        // Ready modal
        readyTitle: "æ‚¨çš„é¤æ¡Œå·²å‡†å¤‡å¥½ï¼",
        readyMessage: "è¯·å‰å¾€æ¥å¾…åŒºã€‚æ‚¨çš„é¤æ¡Œæ­£åœ¨ç­‰å€™æ‚¨ï¼",
        readyTime: "ç°åœ¨å¯ç”¨",
        gotIt: "çŸ¥é“äº†ï¼",
        
        // Reviews modal
        verifiedReviews: "å·²éªŒè¯è¯„ä»·",
        closeBtn: "å…³é—­",
        
        // Premium modal
        goPremium: "å¼€é€šé«˜çº§ç‰ˆ",
        premiumSubtitle: "ä¸ºå›½é™…æ—…å®¢è§£é”ä¸“å±åŠŸèƒ½",
        feature1Title: "ä¿è¯é¢„è®¢",
        feature1Desc: "åœ¨çƒ­é—¨é¤å…è·³è¿‡æ’é˜Ÿï¼Œäº«å—ä¿è¯é¢„è®¢",
        feature2Title: "ç¦»çº¿åœ°å›¾å’Œèœå•",
        feature2Desc: "æ— ç½‘ç»œè¿æ¥æ—¶è®¿é—®é¤å…ä¿¡æ¯å’Œå¯¼èˆª",
        feature3Title: "ä¼˜å…ˆæ”¯æŒ",
        feature3Desc: "ä¸ºæ‚¨çš„æ—…è¡Œæä¾›24/7å¤šè¯­è¨€å®¢æˆ·æ”¯æŒ",
        feature4Title: "å›¢ä½“é¢„è®¢å·¥å…·",
        feature4Desc: "è½»æ¾é¢„è®¢å¤§å‹å›¢ä½“å’Œå®¶åº­æ—…è¡Œ",
        premiumPrice: "$4.99",
        premiumAlternative: "æˆ–æ¯æ¬¡ä¿è¯é¢„è®¢$2.99",
        subscribeNow: "ç«‹å³è®¢é˜…",
        
        // Footer
        footerText: "æ¼”ç¤º â€” æ‰€æœ‰æ•°æ®å‡ä¸ºåŸå‹æ¨¡æ‹Ÿã€‚åŸºäºçœŸå®å›½é™…æ—…å®¢éªŒè¯ã€‚",
        
        // Messages
        alreadyPremium: "å·²æ˜¯é«˜çº§ç”¨æˆ· â€” è°¢è°¢ï¼",
        subscribeConfirm: "è®¢é˜…é«˜çº§ç‰ˆï¼Œæ¯æœˆ$4.99ï¼Ÿè·å¾—ä¿è¯é¢„è®¢ã€è·³è¿‡æ’é˜Ÿå’Œç¦»çº¿åœ°å›¾ã€‚",
        subscribed: "å·²è®¢é˜… â€” é«˜çº§åŠŸèƒ½å·²è§£é”ï¼",
        premiumRequired: "ä¿è¯é¢„è®¢éœ€è¦é«˜çº§ç‰ˆã€‚è®¢é˜…æ¯æœˆ$4.99æˆ–æ”¯ä»˜$2.99å•æ¬¡ï¼Ÿï¼ˆç¡®å®š = è®¢é˜…ï¼Œå–æ¶ˆ = å•æ¬¡ï¼‰",
        bookingConfirmed: "é¢„è®¢ç¡®è®¤äº",
        groupNotification: "å›¢ä½“é¢„è®¢é€šçŸ¥å·²å‘é€è‡³é¤å…ã€‚",
        offlineAvailable: "ç¦»çº¿åœ°å›¾å¯ç”¨äºå¯¼èˆªã€‚",
        enjoyMeal: "ç¥æ‚¨ç”¨é¤æ„‰å¿«ï¼",
        noReviews: "æ­¤é¤å…å°šæ— å·²éªŒè¯è¯„ä»·ã€‚",
        
        // New menu translations
        menu: "èœå•",
        orderPlaced: "è®¢å•å·²æäº¤ï¼",
        orderConfirmationMessage: "æ‚¨çš„é£Ÿç‰©å¾ˆå¿«é€è¾¾ã€‚å¨æˆ¿å·²æ”¶åˆ°æ‚¨çš„è®¢å•ã€‚",
        estimatedPreparation: "é¢„è®¡å‡†å¤‡æ—¶é—´ï¼š15-20åˆ†é’Ÿ",
        yourOrder: "æ‚¨çš„è®¢å•",
        total: "æ€»è®¡ï¼š",
        placeOrder: "æäº¤è®¢å•",
        viewMenu: "æŸ¥çœ‹èœå•",
        minimize: "æœ€å°åŒ–",
        orderFoodNow: "ç«‹å³ç‚¹é¤",
        tableReadyIn: "é¤æ¡Œå‡†å¤‡æ—¶é—´",
        viewFull: "æŸ¥çœ‹å®Œæ•´",
        orderNotAvailable: "é¤æ¡Œå‡†å¤‡å¥½åå¯ç‚¹é¤"
      }
    };

    // Update entire website language
    function updateLanguage(lang) {
      const t = translations[lang];
      
      // Header
      document.getElementById('headerTitle').textContent = t.headerTitle;
      document.getElementById('headerSubtitle').textContent = t.headerSubtitle;
      document.getElementById('subscribeBtn').textContent = user.premium ? 'Premium âœ“' : t.premiumBtn;
      
      // Sidebar
      document.getElementById('searchInput').placeholder = t.searchPlaceholder;
      document.getElementById('searchBtn').textContent = t.searchBtn;
      document.getElementById('mapText').textContent = t.mapText;
      document.getElementById('offlineText').textContent = t.offlineText;
      document.getElementById('liveQueueText').textContent = t.liveQueueText;
      document.getElementById('updatedText').textContent = t.updatedText;
      document.getElementById('filtersText').textContent = t.filtersText;
      document.getElementById('filterVerified').textContent = t.filterVerified;
      document.getElementById('filterSkipQueue').textContent = t.filterSkipQueue;
      document.getElementById('filterPremium').textContent = t.filterPremium;
      document.getElementById('filterMultilingual').textContent = t.filterMultilingual;
      document.getElementById('filterOffline').textContent = t.filterOffline;
      document.getElementById('filterGroup').textContent = t.filterGroup;
      
      // Main content
      document.getElementById('trustedText').textContent = t.trustedText;
      document.getElementById('heroTitle').textContent = t.heroTitle;
      document.getElementById('heroSubtitle').textContent = t.heroSubtitle;
      document.getElementById('userTypeText').textContent = t.userTypeText;
      document.getElementById('userDetails').textContent = t.userDetails;
      document.getElementById('filterInput').placeholder = t.filterPlaceholder;
      document.getElementById('clearFilter').textContent = t.clearBtn;
      document.getElementById('detailsTitle').textContent = t.detailsTitle;
      if (reviewsArea.textContent.includes("Select a restaurant") || reviewsArea.textContent.includes("Selecciona un restaurante") || reviewsArea.textContent.includes("é€‰æ‹©é¤å…")) {
        reviewsArea.textContent = t.selectRestaurant;
      }
      
      // Footer
      document.getElementById('footerText').textContent = t.footerText;
      
      // Update buttons in restaurant cards
      updateRestaurantCardsLanguage(t);
      
      // Update restaurant descriptions
      updateRestaurantDescriptions();
      
      // Update modals if they're open
      updatemodalsLanguage(t);
    }

    function updateRestaurantCardsLanguage(t) {
      // Update nearby list
      const nearbyButtons = nearbyList.querySelectorAll('button');
      nearbyButtons.forEach(btn => {
        if (btn.textContent === 'Reviews' || btn.textContent === 'ReseÃ±as' || btn.textContent === 'è¯„ä»·') {
          btn.textContent = t.viewReviews;
        }
        if (btn.textContent === 'Join' || btn.textContent === 'Unirse' || btn.textContent === 'åŠ å…¥') {
          btn.textContent = t.joinQueue;
        }
      });
      
      // Update results grid
      const gridButtons = resultsGrid.querySelectorAll('button');
      gridButtons.forEach(btn => {
        if (btn.textContent === 'Reviews' || btn.textContent === 'ReseÃ±as' || btn.textContent === 'è¯„ä»·') {
          btn.textContent = t.viewReviews;
        }
        if (btn.textContent === 'Book Now' || btn.textContent === 'Reservar Ahora' || btn.textContent === 'ç«‹å³é¢„è®¢') {
          btn.textContent = t.bookNow;
        }
        if (btn.textContent === 'View Menu' || btn.textContent === 'Ver MenÃº' || btn.textContent === 'æŸ¥çœ‹èœå•') {
          btn.textContent = t.viewMenu;
        }
      });
    }

    function updateRestaurantDescriptions() {
      // Update restaurant descriptions in the results grid
      const restaurantCards = resultsGrid.querySelectorAll('.restcard');
      restaurantCards.forEach(card => {
        const nameElement = card.querySelector('strong');
        if (nameElement) {
          const restaurantName = nameElement.textContent;
          const restaurant = restaurants.find(r => r.name === restaurantName);
          if (restaurant && restaurant.desc) {
            const descElement = card.querySelector('.meta').nextElementSibling;
            if (descElement) {
              descElement.textContent = restaurant.desc[currentLang] || restaurant.desc.en;
            }
          }
        }
      });
    }

    function updatemodalsLanguage(t) {
      // Booking modal
      if (bookingOverlay.style.display === 'flex') {
        document.getElementById('modalTitle').textContent = t.bookTable;
        document.getElementById('premiumPlanTitle').textContent = t.premiumPlanTitle;
        document.getElementById('premiumPlanDesc').textContent = t.premiumPlanDesc;
        document.getElementById('standardPlanTitle').textContent = t.standardPlanTitle;
        document.getElementById('standardPlanDesc').textContent = t.standardPlanDesc;
        document.getElementById('groupBookingText').textContent = t.groupBookingText;
        document.getElementById('closeBookingmodal').textContent = t.cancelBtn;
        document.getElementById('confirmBooking').textContent = t.confirmBooking;
      }
      
      // Countdown modal
      if (countdownOverlay.style.display === 'flex') {
        document.getElementById('countdownTitle').textContent = t.countdownTitle;
        document.getElementById('countdownSubtitle').textContent = t.countdownSubtitle;
        document.getElementById('countdownText').textContent = t.countdownText;
        document.getElementById('cancelCountdown').textContent = t.cancelBooking;
        document.getElementById('minimizeCountdown').textContent = t.minimize;
        document.getElementById('orderFoodBtn').textContent = canOrderFood ? t.orderFoodNow : t.orderNotAvailable;
      }
      
      // Ready modal
      if (readyOverlay.style.display === 'flex') {
        document.getElementById('readyTitle').textContent = t.readyTitle;
        document.getElementById('readyMessage').textContent = t.readyMessage;
        document.getElementById('readyTime').textContent = t.readyTime;
        document.getElementById('closeReadymodal').textContent = t.gotIt;
      }
      
      // Reviews modal
      if (reviewsOverlay.style.display === 'flex') {
        document.getElementById('reviewsmodalTitle').textContent = t.verifiedReviews;
        document.getElementById('closeReviewsmodal').textContent = t.closeBtn;
        const bookBtn = reviewsOverlay.querySelector('.primary');
        bookBtn.textContent = t.bookNow;
        
        // Update reviews content if a restaurant is selected
        if (selectedRestaurant) {
          updateReviewsContent(selectedRestaurant);
        }
      }
      
      // Premium modal
      if (premiumOverlay.style.display === 'flex') {
        document.getElementById('premiummodalTitle').textContent = t.goPremium;
        document.getElementById('premiummodalSubtitle').textContent = t.premiumSubtitle;
        document.getElementById('feature1Title').textContent = t.feature1Title;
        document.getElementById('feature1Desc').textContent = t.feature1Desc;
        document.getElementById('feature2Title').textContent = t.feature2Title;
        document.getElementById('feature2Desc').textContent = t.feature2Desc;
        document.getElementById('feature3Title').textContent = t.feature3Title;
        document.getElementById('feature3Desc').textContent = t.feature3Desc;
        document.getElementById('feature4Title').textContent = t.feature4Title;
        document.getElementById('feature4Desc').textContent = t.feature4Desc;
        document.getElementById('premiumPrice').innerHTML = t.premiumPrice + '<span style="font-size:14px;color:var(--muted)">/month</span>';
        document.getElementById('premiumAlternative').textContent = t.premiumAlternative;
        document.getElementById('closePremiummodal').textContent = t.cancelBtn;
        document.getElementById('confirmPremium').textContent = t.subscribeNow;
      }
      
      // Menu modal
      if (menuOverlay.style.display === 'flex') {
        document.getElementById('menumodalTitle').textContent = `${t.menu} â€” ${selectedRestaurant.name}`;
        document.getElementById('viewMenuBtn').textContent = t.viewMenu;
        document.getElementById('confirmOrder').textContent = t.placeOrder;
        document.getElementById('closeMenumodal').textContent = t.closeBtn;
        document.getElementById('orderSummaryTitle').textContent = t.yourOrder;
        document.getElementById('totalText').textContent = t.total;
      }
      
      // Order confirmation modal
      if (orderConfirmationOverlay.style.display === 'flex') {
        document.getElementById('orderConfirmationTitle').textContent = t.orderPlaced;
        document.getElementById('orderConfirmationMessage').textContent = t.orderConfirmationMessage;
        document.getElementById('orderEstimatedTime').textContent = t.estimatedPreparation;
        document.getElementById('closeOrderConfirmation').textContent = t.gotIt;
      }
      
      // Minimized countdown
      if (minimizedCountdown.style.display === 'block') {
        document.getElementById('minimizedTitle').textContent = t.tableReadyIn;
        document.querySelector('#minimizedCountdown .primary').textContent = t.viewFull;
      }
    }

    // NEW FUNCTIONS FOR ENHANCED FEATURES

    function showMenu(restaurantId) {
      const restaurant = restaurants.find(r => r.id === restaurantId);
      selectedRestaurant = restaurant;
      
      const t = translations[currentLang];
      document.getElementById('menumodalTitle').textContent = `${t.menu} â€” ${restaurant.name}`;
      document.getElementById('menumodalMeta').textContent = `${restaurant.cuisine}`;
      
      const menuContent = document.getElementById('menuContent');
      const menu = restaurant.menu[currentLang] || restaurant.menu.en;
      
      let menuHTML = '';
      for (const [category, items] of Object.entries(menu)) {
        menuHTML += `
          <div class="menu-category">
            <h4>${category}</h4>
            ${items.map(item => `
              <div class="menu-item" onclick="addToOrder('${item.name}', ${item.price})">
                <div>
                  <strong>${item.name}</strong>
                  <div style="color:var(--muted);font-size:13px;margin-top:4px">${item.description}</div>
                </div>
                <div class="menu-item-price">$${item.price}</div>
              </div>
            `).join('')}
          </div>
        `;
      }
      
      menuContent.innerHTML = menuHTML;
      menuOverlay.style.display = 'flex';
      currentOrder = []; // Reset order
      updateOrderSummary();
    }

    function addToOrder(itemName, price) {
      const existingItem = currentOrder.find(item => item.name === itemName);
      
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        currentOrder.push({
          name: itemName,
          price: price,
          quantity: 1
        });
      }
      
      updateOrderSummary();
    }

    function updateOrderSummary() {
      const orderSummary = document.getElementById('orderSummary');
      const orderItems = document.getElementById('orderItems');
      const orderTotal = document.getElementById('orderTotal');
      const confirmOrderBtn = document.getElementById('confirmOrder');
      const viewMenuBtn = document.getElementById('viewMenuBtn');
      const t = translations[currentLang];
      
      if (currentOrder.length > 0) {
        orderSummary.style.display = 'block';
        confirmOrderBtn.style.display = 'block';
        viewMenuBtn.style.display = 'none';
        document.getElementById('orderSummaryTitle').textContent = t.yourOrder;
        document.getElementById('totalText').textContent = t.total;
        confirmOrderBtn.textContent = t.placeOrder;
        
        let total = 0;
        orderItems.innerHTML = currentOrder.map(item => {
          total += item.price * item.quantity;
          return `
            <div class="order-item">
              <div>
                <strong>${item.name}</strong>
                <div style="color:var(--muted);font-size:12px">$${item.price} each</div>
              </div>
              <div class="quantity-controls">
                <button class="quantity-btn" onclick="decreaseQuantity('${item.name}')">-</button>
                <span style="margin:0 8px">${item.quantity}</span>
                <button class="quantity-btn" onclick="increaseQuantity('${item.name}')">+</button>
              </div>
            </div>
          `;
        }).join('');
        
        orderTotal.textContent = `$${total.toFixed(2)}`;
      } else {
        orderSummary.style.display = 'none';
        confirmOrderBtn.style.display = 'none';
        viewMenuBtn.style.display = 'block';
        viewMenuBtn.textContent = t.viewMenu;
      }
    }

    function increaseQuantity(itemName) {
      const item = currentOrder.find(item => item.name === itemName);
      if (item) {
        item.quantity += 1;
        updateOrderSummary();
      }
    }

    function decreaseQuantity(itemName) {
      const itemIndex = currentOrder.findIndex(item => item.name === itemName);
      if (itemIndex !== -1) {
        if (currentOrder[itemIndex].quantity > 1) {
          currentOrder[itemIndex].quantity -= 1;
        } else {
          currentOrder.splice(itemIndex, 1);
        }
        updateOrderSummary();
      }
    }

    function placeOrder() {
      const t = translations[currentLang];
      document.getElementById('orderConfirmationTitle').textContent = t.orderPlaced;
      document.getElementById('orderConfirmationMessage').textContent = t.orderConfirmationMessage;
      document.getElementById('orderRestaurantName').textContent = selectedRestaurant.name;
      document.getElementById('orderEstimatedTime').textContent = t.estimatedPreparation;
      document.getElementById('closeOrderConfirmation').textContent = t.gotIt;
      
      menuOverlay.style.display = 'none';
      orderConfirmationOverlay.style.display = 'flex';
      currentOrder = []; // Clear order after placing
    }

    function minimizeCountdown() {
      const t = translations[currentLang];
      countdownOverlay.style.display = 'none';
      minimizedCountdown.style.display = 'block';
      document.getElementById('minimizedTitle').textContent = t.tableReadyIn;
      document.getElementById('minimizeCountdown').textContent = t.minimize;
      document.getElementById('orderFoodBtn').textContent = canOrderFood ? t.orderFoodNow : t.orderNotAvailable;
      updateMinimizedCountdown();
    }

    function closeMinimizedCountdown() {
      minimizedCountdown.style.display = 'none';
      clearInterval(countdownInterval);
    }

    function restoreCountdown() {
      const t = translations[currentLang];
      minimizedCountdown.style.display = 'none';
      countdownOverlay.style.display = 'flex';
      document.querySelector('#minimizedCountdown .primary').textContent = t.viewFull;
    }

    function updateMinimizedCountdown() {
      const minutes = Math.floor(remainingTime / 60);
      const seconds = remainingTime % 60;
      const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      document.getElementById('minimizedTime').textContent = timeString;
      document.getElementById('minimizedRestaurant').textContent = selectedRestaurant.name;
    }

    function startCountdown(restaurant, isPremium, isGroup) {
      const t = translations[currentLang];
      
      // Calculate wait time (premium users get shorter wait)
      let waitTime = isPremium ? Math.max(1, Math.floor(restaurant.wait / 3)) : restaurant.wait;
      if (isGroup) {
        waitTime = Math.floor(waitTime * 1.2); // Groups take 20% longer
      }
      
      // Convert to seconds for countdown
      remainingTime = waitTime * 60;
      
      // Update countdown modal content
      document.getElementById('countdownTitle').textContent = t.countdownTitle;
      document.getElementById('countdownSubtitle').textContent = t.countdownSubtitle;
      document.getElementById('countdownText').textContent = t.countdownText;
      document.getElementById('restaurantInfo').textContent = `${restaurant.name} â€¢ ${restaurant.cuisine}`;
      document.getElementById('bookingDetails').textContent = isPremium ? 
        `Premium Booking â€¢ ${isGroup ? 'Group' : 'Individual'}` : 
        `Standard Queue â€¢ ${isGroup ? 'Group' : 'Individual'}`;
      
      // Disable ordering until countdown is complete
      canOrderFood = false;
      document.getElementById('orderFoodBtn').disabled = true;
      document.getElementById('orderFoodBtn').textContent = t.orderNotAvailable;
      document.getElementById('orderFoodBtn').classList.add('btn-disabled');
      
      // Show countdown modal
      bookingOverlay.style.display = 'none';
      countdownOverlay.style.display = 'flex';
      
      // Start countdown
      updateCountdownDisplay();
      countdownInterval = setInterval(updateCountdown, 1000);
    }

    function updateCountdown() {
      remainingTime--;
      updateCountdownDisplay();
      updateMinimizedCountdown();
      
      if (remainingTime <= 0) {
        clearInterval(countdownInterval);
        // Enable ordering when countdown is complete
        canOrderFood = true;
        document.getElementById('orderFoodBtn').disabled = false;
        document.getElementById('orderFoodBtn').textContent = translations[currentLang].orderFoodNow;
        document.getElementById('orderFoodBtn').classList.remove('btn-disabled');
        showReadymodal();
      }
    }

    function updateCountdownDisplay() {
      const minutes = Math.floor(remainingTime / 60);
      const seconds = remainingTime % 60;
      const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      document.getElementById('countdownTime').textContent = timeString;
    }

    function showReadymodal() {
      const t = translations[currentLang];
      
      document.getElementById('readyTitle').textContent = t.readyTitle;
      document.getElementById('readyMessage').textContent = t.readyMessage;
      document.getElementById('readyRestaurant').textContent = selectedRestaurant.name;
      document.getElementById('readyTime').textContent = t.readyTime;
      document.getElementById('closeReadymodal').textContent = t.gotIt;
      
      countdownOverlay.style.display = 'none';
      minimizedCountdown.style.display = 'none';
      readyOverlay.style.display = 'flex';
    }

    function cancelCountdown() {
      clearInterval(countdownInterval);
      countdownOverlay.style.display = 'none';
      minimizedCountdown.style.display = 'none';
      alert("Booking cancelled");
    }

    // Render nearby list (sidebar) with live wait times
    function renderNearby(){
      nearbyList.innerHTML = '';
      restaurants.slice(0,4).forEach(r=>{
        const el = document.createElement('div'); el.className='card';
        el.innerHTML = `
          <div class="thumb"><img src="${r.image}" alt="${r.name}" /></div>
          <div style="flex:1">
            <div class="rname">${r.name}</div>
            <div class="meta">${r.cuisine} â€¢ ${r.price}\$ avg</div>
            <div style="margin-top:6px">
              ${r.features.map(f => {
                if (f === 'cancellationFee') {
                  return `<span class="feature-tag cancellation">Cancellation Fee</span>`;
                } else {
                  return `<span class="feature-tag">${f}</span>`;
                }
              }).join('')}
            </div>
            <div style="margin-top:6px"><span class="badge">Wait: <span class="wait" id="wait-${r.id}">${r.wait}m</span></span></div>
          </div>
          <div class="actions">
            <button class="btn" onclick="viewReviews(${r.id})">${translations[currentLang].viewReviews}</button>
            <button class="btn" onclick="openBooking(${r.id},'queue')">${translations[currentLang].joinQueue}</button>
          </div>
        `;
        nearbyList.appendChild(el);
      });
    }

    // Render results grid with filtering
    function renderResults(filter){
      resultsGrid.innerHTML='';
      let list = restaurants.filter(r => 
        (!filter || r.name.toLowerCase().includes(filter) || r.cuisine.toLowerCase().includes(filter) || r.features.join(' ').includes(filter)) &&
        (activeFilters.size === 0 || activeFilters.has('all') || activeFilters.values().some(f => r.features.includes(f)))
      );
      
      list.forEach(r=>{
        const desc = r.desc ? (r.desc[currentLang] || r.desc.en) : '';
        const el = document.createElement('div'); el.className='restcard';
        el.innerHTML = `
          <div style="display:flex;align-items:center;gap:10px">
            <div style="width:64px;height:64px;border-radius:10px;overflow:hidden"><img src="${r.image}" alt="${r.name}" style="width:100%;height:100%;object-fit:cover" /></div>
            <div style="flex:1">
              <div style="display:flex;align-items:center;gap:8px"><strong>${r.name}</strong><div class="stars">â˜… ${r.rating}</div></div>
              <div class="meta">${r.cuisine} â€¢ ${r.price}$ avg</div>
              <div style="margin-top:8px;color:var(--muted);font-size:13px">${desc}</div>
              <div style="margin-top:8px">
                ${r.features.map(f => {
                  if (f === 'cancellationFee') {
                    return `<span class="feature-tag cancellation">Cancellation Fee</span>`;
                  } else {
                    return `<span class="feature-tag">${f}</span>`;
                  }
                }).join('')}
              </div>
            </div>
            <div style="text-align:right">
              <div class="badge">Wait: <span class="wait" id="wait-card-${r.id}">${r.wait}m</span></div>
              <div style="margin-top:8px;display:flex;flex-direction:column;gap:6px">
                <button class="btn" onclick="viewReviews(${r.id})">${translations[currentLang].viewReviews}</button>
                <button class="btn-secondary" onclick="showMenu(${r.id})">${translations[currentLang].viewMenu}</button>
                <button class="primary" onclick="openBooking(${r.id},'guarantee')">${translations[currentLang].bookNow}</button>
              </div>
            </div>
          </div>
        `;
        resultsGrid.appendChild(el);
      });
    }

    function viewDetails(id){
      const r = restaurants.find(x=>x.id===id); selectedRestaurant=r;
      // Aggregate reviews (simulated)
      const agg = Math.round((r.sourceRatings.reduce((a,b)=>a+b,0)/r.sourceRatings.length)*10)/10;
      const desc = r.desc ? (r.desc[currentLang] || r.desc.en) : '';
      
      let detailsHTML = `<strong>${r.name}</strong> â€” Rating: ${agg} / 5<br/><br/>`;
      detailsHTML += `${r.cuisine} â€¢ $${r.price} average<br/>`;
      detailsHTML += `${desc}<br/><br/>`;
      detailsHTML += `<button class="btn" onclick="viewReviews(${r.id})">${translations[currentLang].viewReviews}</button>`;
      
      reviewsArea.innerHTML = detailsHTML;
      // highlight map preview
      document.getElementById('mapArea').innerHTML = `
        <div>ğŸ“ ${r.name}</div>
        <div style="font-size:12px;margin-top:8px">${r.features.includes('offline') ? translations[currentLang].offlineText : 'Online map only'}</div>
      `;
    }

    function viewReviews(id){
      const r = restaurants.find(x=>x.id===id); 
      selectedRestaurant = r;
      
      if (!r.reviews) {
        reviewsmodalTitle.textContent = `${translations[currentLang].verifiedReviews} â€” ${r.name}`;
        reviewsmodalMeta.textContent = `${r.cuisine} â€¢ Rating: ${r.rating}/5`;
        reviewsContent.innerHTML = `<p>${translations[currentLang].noReviews}</p>`;
      } else {
        updateReviewsContent(r);
      }
      
      reviewsOverlay.style.display = 'flex';
    }

    function updateReviewsContent(restaurant) {
      const t = translations[currentLang];
      reviewsmodalTitle.textContent = `${t.verifiedReviews} â€” ${restaurant.name}`;
      reviewsmodalMeta.textContent = `${restaurant.cuisine} â€¢ Rating: ${restaurant.rating}/5 â€¢ Language: ${currentLang.toUpperCase()}`;
      
      const reviews = restaurant.reviews[currentLang] || restaurant.reviews.en;
      const agg = Math.round((restaurant.sourceRatings.reduce((a,b)=>a+b,0)/restaurant.sourceRatings.length)*10)/10;
      
      let reviewsHTML = `
        <div style="margin-bottom:16px">
          <strong>Aggregated Rating:</strong> ${agg}/5 from ${restaurant.sourceRatings.length} verified sources
        </div>
      `;
      
      if (reviews && reviews.length > 0) {
        reviews.forEach(review => {
          let stars = '';
          for (let i = 0; i < 5; i++) {
            stars += i < review.rating ? 'â˜…' : 'â˜†';
          }
          reviewsHTML += `
            <div class="review-item">
              <div class="stars">${stars}</div>
              <div class="review-text">"${review.text}"</div>
              <div class="review-meta">â€” ${review.author}</div>
            </div>
          `;
        });
      } else {
        reviewsHTML += `<p>No reviews available in ${currentLang.toUpperCase()}. Switching to English.</p>`;
        // Fallback to English if no reviews in current language
        const englishReviews = restaurant.reviews.en;
        if (englishReviews) {
          englishReviews.forEach(review => {
            let stars = '';
            for (let i = 0; i < 5; i++) {
              stars += i < review.rating ? 'â˜…' : 'â˜†';
            }
            reviewsHTML += `
              <div class="review-item">
                <div class="stars">${stars}</div>
                <div class="review-text">"${review.text}"</div>
                <div class="review-meta">â€” ${review.author}</div>
              </div>
            `;
          });
        }
      }
      
      reviewsContent.innerHTML = reviewsHTML;
    }

    // Updated openBooking function to show cancellation fee and date picker
    function openBooking(id,mode){
      const r = restaurants.find(x=>x.id===id); selectedRestaurant=r;
      modalTitle.textContent = `${translations[currentLang].bookTable} â€” ${r.name}`;
      modalMeta.textContent = `${r.cuisine} â€¢ Avg $${r.price} â€¢ Current wait ${r.wait}m`;
      bookingOverlay.style.display='flex';
      groupBookingCheckbox.checked = false;

      // Show cancellation fee warning if applicable
      if (r.hasCancellationFee) {
        cancellationFeeWarning.style.display = 'block';
        const feeText = cancellationFeeWarning.querySelector('div');
        feeText.textContent = `Cancellations within 2 hours incur a $${r.cancellationFee} fee`;
      } else {
        cancellationFeeWarning.style.display = 'none';
      }

      // Reset and set default selection
      document.querySelectorAll('.plan').forEach(p => p.classList.remove('selected'));
      if (mode === 'guarantee') {
        document.querySelector('.plan:first-child').classList.add('selected');
      } else {
        document.querySelector('.plan:last-child').classList.add('selected');
      }

      // store chosen mode
      bookingOverlay.dataset.mode = mode;
    }

    function openPremiummodal(){
      premiumOverlay.style.display='flex';
    }

    // Event listeners
    document.getElementById('closeBookingmodal').addEventListener('click',()=>bookingOverlay.style.display='none');
    document.getElementById('closeReviewsmodal').addEventListener('click',()=>reviewsOverlay.style.display='none');
    document.getElementById('closePremiummodal').addEventListener('click',()=>premiumOverlay.style.display='none');
    document.getElementById('closeReadymodal').addEventListener('click',()=>readyOverlay.style.display='none');
    document.getElementById('cancelCountdown').addEventListener('click', cancelCountdown);
    document.getElementById('minimizeCountdown').addEventListener('click', minimizeCountdown);
    document.getElementById('orderFoodBtn').addEventListener('click', () => {
      if (canOrderFood) {
        showMenu(selectedRestaurant.id);
      }
    });
    document.getElementById('confirmOrder').addEventListener('click', placeOrder);
    document.getElementById('closeOrderConfirmation').addEventListener('click', () => orderConfirmationOverlay.style.display = 'none');
    document.getElementById('viewMenuBtn').addEventListener('click', () => showMenu(selectedRestaurant.id));
    document.getElementById('closeMenumodal').addEventListener('click', () => menuOverlay.style.display = 'none');

    document.getElementById('confirmBooking').addEventListener('click',()=>{
      const selectedPlan = document.querySelector('.plan.selected');
      const isPremiumPlan = selectedPlan && selectedPlan.querySelector('#premiumPlanTitle');
      const mode = isPremiumPlan ? 'guarantee' : 'queue';
      const isGroupBooking = groupBookingCheckbox.checked;
      const t = translations[currentLang];
      
      if(mode==='guarantee' && !user.premium){
        // ask to subscribe or one-off
        const choice = confirm(t.premiumRequired);
        if(choice){
          user.premium = true; 
          subscribeBtn.textContent='Premium âœ“';
        }
      }
      
      // Start countdown instead of showing alert
      startCountdown(selectedRestaurant, mode === 'guarantee', isGroupBooking);
    });

    document.getElementById('confirmPremium').addEventListener('click',()=>{
      const t = translations[currentLang];
      user.premium = true; 
      subscribeBtn.textContent='Premium âœ“'; 
      alert(t.subscribed);
      premiumOverlay.style.display='none';
    });

    // Plan selection
    document.querySelectorAll('.plan').forEach(plan => {
      plan.addEventListener('click', function() {
        document.querySelectorAll('.plan').forEach(p => p.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    // Filter chips functionality
    document.querySelectorAll('.chip').forEach(chip => {
      chip.addEventListener('click', function() {
        const filter = this.dataset.filter;
        
        if (filter === 'all') {
          // Toggle all filters
          if (this.classList.contains('active')) {
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            activeFilters.clear();
          } else {
            document.querySelectorAll('.chip').forEach(c => c.classList.add('active'));
            restaurants.forEach(r => {
              r.features.forEach(f => activeFilters.add(f));
            });
          }
        } else {
          // Toggle single filter
          this.classList.toggle('active');
          if (this.classList.contains('active')) {
            activeFilters.add(filter);
          } else {
            activeFilters.delete(filter);
          }
        }
        
        renderResults();
      });
    });

    // Live queue simulation (randomly varies wait times) - updates every 5s
    function tickQueues(){
      restaurants.forEach(r=>{
        // random walk
        const delta = Math.round((Math.random()-0.45)*6);
        r.wait = Math.max(0, r.wait + delta);
        const el = document.getElementById('wait-'+r.id);
        const el2 = document.getElementById('wait-card-'+r.id);
        if(el) el.textContent = r.wait + 'm';
        if(el2) el2.textContent = r.wait + 'm';
      });
    }
    setInterval(tickQueues,5000);

    // Search
    document.getElementById('searchBtn').addEventListener('click',()=>{
      const q = document.getElementById('searchInput').value.trim().toLowerCase();
      renderResults(q);
    });
    document.getElementById('clearFilter').addEventListener('click',()=>{
      document.getElementById('filterInput').value=''; 
      renderResults();
    });

    // Text filter
    document.getElementById('filterInput').addEventListener('input',(e)=>{
      const v = e.target.value.trim().toLowerCase(); 
      renderResults(v);
    });

    // Language toggle
    langToggle.addEventListener('click',()=>{
      const order=['en','es','ch'];
      currentLang = order[(order.indexOf(currentLang)+1)%3];
      langToggle.textContent = currentLang.toUpperCase();
      updateLanguage(currentLang);
    });

    // Premium button click
    subscribeBtn.addEventListener('click',()=>{
      if(user.premium){ 
        alert(translations[currentLang].alreadyPremium); 
        return; 
      }
      openPremiummodal();
    });

    // initial render
    renderNearby(); 
    renderResults();
    updateLanguage(currentLang);

    // Accessibility: keyboard close overlays
    document.addEventListener('keydown',(e)=>{ 
      if(e.key==='Escape') {
        bookingOverlay.style.display='none';
        reviewsOverlay.style.display='none';
        premiumOverlay.style.display='none';
        countdownOverlay.style.display='none';
        readyOverlay.style.display='none';
        menuOverlay.style.display='none';
        orderConfirmationOverlay.style.display='none';
        minimizedCountdown.style.display='none';
      }
    });

  </script>
</body>
</html>
